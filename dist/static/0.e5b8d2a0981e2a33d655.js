webpackJsonp([0],{52:function(e,a,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var i=t(9),o=s(i),n=t(1),c=t(2);e.exports={data:function(){return{id:(65536*(1+Math.random())|0).toString(16).substring(1),listMe:!1,clickOut:null,oldState:null,options:{pushed:{value:"pushed",icon:"fa-hourglass-half"},rejected:{value:"rejected",icon:"fa-ban"},hired:{value:"hired",icon:"fa-check"},"phone interview":{value:"phone interview",icon:"fa-phone"},"office interview":{value:"office interview",icon:"fa-street-view"}}}},props:{recommendation:{type:Object,require:!0,"default":{}},recomId:{type:Number}},computed:{icon:function(){return this.recommendation.state&&this.options[this.recommendation.state]?this.options[this.recommendation.state].icon:this.options.pushed.icon}},created:function(){var e=this;this.clickOut=function(a){return $(a.target).closest("#drop-down-"+e.id).length?!0:void e.showmenu(null)}},methods:{showmenu:function(){this.listMe=!this.listMe,this.listMe?$(document).bind("click",this.clickOut):$(document).unbind("click",this.clickOut)},updateState:function(e){var a=this,t=this.recomId||this.recommendation.id,s=this.recommendation.joboffer_id||this.$route.params.jobId;this.oldState=this.recommendation.state,this.recommendation.state=e,n.apiAsync("PUT","/dashboard/joboffers/"+s+"/recommendations/"+t,{state:e}).then(function(e){return c.$emit("joboffer:rec-state-changed",o["default"](e,{oldvalue:a.oldState,newvalue:e.state}))})["catch"](function(){return a.recommendation.state=a.oldState})}}}},59:function(e,a){},65:function(e,a){e.exports='<div id=drop-down-{{id}} class="drop-down p-xxs hand bold" @click=showmenu _v-7af231c2=""><div class="border p-none fx-row fx-start-center" _v-7af231c2=""><i class="material-icons md-20 orange600 m-t-xs" _v-7af231c2=""></i> <span class="hand uppercase" _v-7af231c2="">{{recommendation.state}}</span> <i class="fa fa-angle-down p-l-sm" _v-7af231c2=""></i></div><div class=flesh v-show=listMe _v-7af231c2=""></div><ul class="border bg-white down-menu p-xxs m-none m-t-xs" v-show=listMe _v-7af231c2=""><li class="capital border-top p-xxs" v-for="op in options" @click=updateState(op.value) _v-7af231c2=""><span _v-7af231c2=""><i class="fa m-r-xs" :class=op.icon _v-7af231c2=""></i> {{op.value}}</span></li></ul></div>'},71:function(e,a,t){var s,i;t(59),s=t(52),i=t(65),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},89:function(e,a,t){"use strict";var s=t(1),i=t(2),o=t(71);e.exports={data:function(){return{condidate:null,showme:!1,isToggled:!1,recomId:null,details:null,jobId:null,editable:!1}},ready:function(){var e=this;i.$on("recommended:show-side",this.showCard),i.$on("joboffer:rec-state-changed",function(a){return e.details.historyable.$set(e.details.historyable.length,a)})},destroyed:function(){i.$off("recommended:show-side"),i.$off("joboffer:rec-state-changed")},components:{status:o},methods:{showCard:function(e){this.jobId=e.joboffer_id,this.showme=!0,this.recomId=e.id,this.getRecommend(e.id),this.editable=!1},hideCard:function(e){this.details=null,this.showme=!1},toggle:function(){this.isToggled=!this.isToggled},getRecommend:function(e){var a=this,t=this.jobId;s.apiAsync("GET","/dashboard/joboffers/"+t+"/recommendations/"+e).then(function(e){a.details=e,a.condidate=e.target})},editComment:function(){var e=void 0,a=this.$els.comment.innerText||" ";if(this.editable){if(this.editable=!1,e==a)return;this.sendComment(a,e)}else this.editable=!0,e=a},sendComment:function(e,a){var t=this;s.apiCall({comment:e},"/dashboard/joboffers/"+this.jobId+"/recommendations/"+this.recomId+"/comment","POST",function(e,s){e&&(t.$els.comment.innerText=a)})},gotoProfile:function(e){var a=e.slug?e.slug:e.uuid;window.location.replace(window.location.origin+"/profile.html#!/"+a)}}}},100:function(e,a,t){a=e.exports=t(3)(),a.push([e.id,".dropdown[_v-518e5caa]{position:relative}.dropdown-menu[_v-518e5caa]{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;box-shadow:0 6px 12px rgba(0,0,0,.175)}.open>.dropdown-menu[_v-518e5caa]{display:block}.slide-transition[_v-518e5caa]{-webkit-transition:all .3s ease;transition:all .3s ease;overflow:hidden;-webkit-animation:slideInRight .3s ease;animation:slideInRight .3s ease}.slide-enter[_v-518e5caa],.slide-leave[_v-518e5caa]{-webkit-animation:slideOutRight .3s ease;animation:slideOutRight .3s ease}@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.recomm-card[_v-518e5caa]{position:fixed;bottom:0;right:0;top:0;z-index:1000;width:550px}.recomm-card ul[_v-518e5caa]{list-style:none;padding:0}.recomm-card h2[_v-518e5caa]{font-size:normal}.recomm-card .rc-container .rc-content[_v-518e5caa]{max-width:550px;width:100%;height:100%;right:0;position:absolute;overflow-y:auto;background:#fff}.recomm-card .rc-container .rc-content .close-btn[_v-518e5caa]{-webkit-transform:scaleY(.7) scaleX(.7);transform:scaleY(.7) scaleX(.7);padding:0;position:fixed;right:14px;top:14px}.recomm-card .rc-container .rc-content .timeline .tl-item[_v-518e5caa]{padding-left:14px;padding-bottom:20px;position:relative}.recomm-card .rc-container .rc-content .timeline .tl-item[_v-518e5caa]:before{content:'';position:absolute;top:3px;bottom:0;left:1px;display:block;width:2px;background-color:#e4e5e7}.recomm-card .rc-container .rc-content .timeline .tl-item[_v-518e5caa]:last-child:before{display:none}.recomm-card .rc-container .rc-content .timeline .tl-item .tl-head[_v-518e5caa]{margin-top:-4px}.recomm-card .rc-container .rc-content .timeline .tl-item .tl-head[_v-518e5caa]:before{content:'';position:absolute;top:3px;left:-3px;display:block;width:10px;height:10px;border-radius:50%;border:2px solid #e4e5e7;background-color:#6a6c6f}.recomm-card .rc-container .rc-content .rc-comment[_v-518e5caa]{-webkit-transition:all .2s ease;transition:all .2s ease;border:1px solid #fff;padding:6px 4px;border-radius:2px;min-height:30px}.recomm-card .rc-container .rc-content .rc-comment[contentEditable=true][_v-518e5caa]{border-color:#06a2c4;box-shadow:inset 0 0 4px 2px #e4e5e7}",""])},102:function(e,a,t){var s=t(100);"string"==typeof s&&(s=[[e.id,s,""]]);t(5)(s,{});s.locals&&(e.exports=s.locals)},113:function(e,a){e.exports='<div v-show=showme _v-518e5caa=""><div class="recomm-card z-depth-3" transition=slide v-if=details _v-518e5caa=""><div class="rc-container fx-row fx-space-between" _v-518e5caa=""><section class="rc-content border-left p-m" _v-518e5caa=""><a @click=hideCard class="btn-floating close-btn btn waves-effect waves-light red pull-right" _v-518e5caa=""><i class="material-icons md-18" _v-518e5caa=""></i></a><div class="row fx-start-center" v-if=condidate _v-518e5caa=""><div class="col m2" _v-518e5caa=""><img @click=gotoProfile(condidate) :src=condidate.img alt=user class="user-image circle border size-48 hand m-t-sm" _v-518e5caa=""></div><div class="p-l-sm m-t-sm col m10" _v-518e5caa=""><div _v-518e5caa=""><a _v-518e5caa=""><h6 @click=gotoProfile(condidate) class="jdh--title capital m-none hand" _v-518e5caa="">{{condidate.firstname}} {{condidate.lastname}}</h6></a> <span class="capital m-none" _v-518e5caa="">{{condidate.title}}</span></div></div></div><div class="fx-row fx-start-center m-t-sm" _v-518e5caa=""><div class="capital m-r-sm" _v-518e5caa=""><span class="capital font-1-2" v-ii18n=status _v-518e5caa="">status</span></div><status class=m-t-xs :recom-id=recomId :recommendation=details _v-518e5caa=""></status></div><div class=m-t-sm v-if=condidate _v-518e5caa=""><label _v-518e5caa=""><span class="capital font-1-2" v-ii18n=about _v-518e5caa="">about</span></label><p class="m-none m-b-xs m-t-xs" _v-518e5caa="">{{condidate.about}}</p></div><div class=m-t-md _v-518e5caa=""><label class=border-bottom _v-518e5caa=""><span class="capital font-1-2 m-t-n-sm" v-ii18n=logs _v-518e5caa="">logs</span> <i v-if=details.commentable[0] _v-518e5caa="">{{details.commentable[0].updated_at | moment "from" "now"}}</i> <span @click=editComment type=button class="pull-right hand" _v-518e5caa=""><i v-if=!editable class="material-icons md-14" _v-518e5caa=""></i> <i v-if=editable class="material-icons md-14" _v-518e5caa=""></i> {{editable ? \'Save\' : \'Edit\'}}</span></label><p v-if=details.commentable[0] class="m-none m-b-xs rc-comment" contenteditable={{editable}} v-el:comment="" _v-518e5caa="">{{details.commentable[0].comment}}</p><p v-else="" class="m-none m-b-xs rc-comment" contenteditable={{editable}} v-el:comment="" _v-518e5caa=""></p></div><div v-if="details.historyable &amp;&amp; details.historyable.length" class=m-t-sm _v-518e5caa=""><div _v-518e5caa=""><span class="capital font-1-2" v-ii18n=history _v-518e5caa="">history</span></div><ul class=timeline _v-518e5caa=""><li class=tl-item track-by=$index v-for="history in details.historyable" _v-518e5caa=""><div class="tl-head fx-row fx-start-center" _v-518e5caa=""><h6 class="m-none capital p-r-xs" _v-518e5caa="">{{history.item}} <span class=font-9 v-ii18n=changed _v-518e5caa="">changed</span></h6><i _v-518e5caa="">{{history.updated_at | moment "from" "now"}}</i></div><p class="capital m-none m-t-xs" _v-518e5caa=""><span v-ii18n=changedFrom _v-518e5caa="">changed from</span> <b _v-518e5caa="">{{history.oldvalue}}</b> to <b _v-518e5caa="">{{history.newvalue}}</b></p></li></ul></div></section></div></div></div>'},116:function(e,a,t){var s,i;t(102),s=t(89),i=t(113),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},166:function(e,a,t){var s,i;t(358),s=t(235),i=t(496),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},235:function(e,a,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var i=t(91),o=s(i),n=t(88),c=t(74),r=t(568),l=t(569),d=t(116),m=t(2);e.exports={vuex:{actions:{sendMsg:n.sendMsg,loadChat:n.loadChat,toggleLockChat:n.toggleLockChat,unloadChat:n.unloadChat,updateMsgs:n.updateMsgs,messageRead:n.messageRead,loadChatList:n.loadChatList,setConnectedUser:n.setConnectedUser},getters:{isReady:c.isReady,chatData:c.chatData,messagesList:c.messagesList,chatId:c.chatId,userId:c.userId,userUUID:c.userUUID,messagesToNotifyAbout:c.messagesToNotifyAbout}},components:{loading:r,noMessages:l,recomSide:d},data:function(){return{messageToSend:"",loading:!0}},filters:{time:function(e){return new Date(e).toTimeString().split(" ")[0].substr(0,5)}},computed:{},ready:function(){var e=this;e.loading=!0,m.$on("messenger:new-messages",e.updateMessages),e.setConnectedUser(),window.$("#app").hasClass("container")&&window.$("#app").toggleClass("container")},methods:{sendMessage:function(){var e=this;return e.messageToSend?(e.sendMsg(e.chatId,e.messageToSend,e.chatData.participants),void e.updateScroll(800)):e.reset()},reset:function(){var e=this;e.messageToSend=""},updateMessages:function(e){var a=this;a.reset(),a.updateMsgs(e),a.updateScroll(800),a.messageRead(a.chatId)},openMessage:function(e){var a=this;a.$router.go("/"+e.id)},getUserImageLink:function(e){var a=this;return a.chatData.participants[e].img},updateScroll:function(e){window.$("#messages-block").animate({scrollTop:window.$("#messages-block")[0].scrollHeight},e,"swing")},isApplicant:function(e){var a=this;return a.chatData.applicant.uuid===e},isResponsible:function(e){var a=this;return a.userUUID===e},isMessageNonRead:function(e){var a=this,t=!1;return a.messagesToNotifyAbout.forEach(function(a){a===e&&(t=!0)}),t},ownerName:function(e){var a=this;return a.chatData.participants[e].name},isDifferentOwner:function(e,a){var t=this,s=o["default"](t.chatData.messages);return 0===a?!0:t.chatData.messages[s[a-1]].owner!==e}},route:{data:function(e){var a=this,t=e.to,s=this,i=Number(t.params.id);s.unloadChat(),s.loadChatList().then(function(e){return s.loading=!1,i?s.loadChat(i):0})["catch"](function(){return s.$router.go("/")}).then(function(e){var t=a;t.updateMsgs(e),t.updateScroll(0)})["catch"](function(){return s.$router.go("/")}).then(function(e){return i&&s.messageRead(i),0})["catch"](function(){return s.$router.go("/")})}}}},325:function(e,a,t){a=e.exports=t(3)(),a.push([e.id,".fixed[_v-1a24127a]{position:fixed;top:64px;bottom:0;left:0;right:0}.full-height[_v-1a24127a]{height:100%}.enlcosing[_v-1a24127a]{min-width:895px}.from-right[_v-1a24127a]{float:right;text-align:right}.chat-block[_v-1a24127a]{background-color:#fff;padding-top:5px}.chat-block .scrollable-block[_v-1a24127a]{height:90%}.scrollable-block[_v-1a24127a]{overflow-y:auto;overflow-x:auto;padding-right:5px}.clearfix[_v-1a24127a]{display:inline-block;width:100%}.chat-text[_v-1a24127a]{padding:10px;border-radius:15px;max-width:550px;display:inline-block}.self-chat-text-color[_v-1a24127a]{background-color:#00bcd4;color:#fff}.other-chat-text-color[_v-1a24127a]{background-color:#eee;color:#000}.applicant-chat-text-color[_v-1a24127a]{background-color:#f5f5f5;color:#000}.chat-image-with-name[_v-1a24127a]{position:relative;top:20px}.small-margin[_v-1a24127a]{margin:0 5px}.message-input-block[_v-1a24127a]{padding:0 10px}.message-send-btn[_v-1a24127a]{border-radius:0!important;position:relative;top:9px}.collection.col.s3[_v-1a24127a]{margin:0!important;border-right:1px solid #e0e0e0;padding:0}.non-read-background[_v-1a24127a]{background-color:#f0f0ff}.collection-item.avatar[_v-1a24127a]:hover{cursor:pointer}.small-font[_v-1a24127a]{font-size:11px}.lock-icon[_v-1a24127a]{position:absolute;right:5px;top:10px}.lock-icon .lock-icon-locked[_v-1a24127a],.lock-icon [_v-1a24127a]:hover{color:#ff530d}.open-job-offer[_v-1a24127a]{position:absolute;right:5px;bottom:10px}.open-job-offer [_v-1a24127a]:active{color:#ff530d}",""])},327:function(e,a,t){a=e.exports=t(3)(),a.push([e.id,".wait-message[_v-3699a8f2]{margin-top:50px;min-width:10px}",""])},336:function(e,a,t){a=e.exports=t(3)(),a.push([e.id,".no-message[_v-efe21bba]{text-align:center;margin-top:50px;min-width:10px;text-transform:capitalize}",""])},358:function(e,a,t){var s=t(325);"string"==typeof s&&(s=[[e.id,s,""]]);t(5)(s,{});s.locals&&(e.exports=s.locals)},364:function(e,a,t){var s=t(327);"string"==typeof s&&(s=[[e.id,s,""]]);t(5)(s,{});s.locals&&(e.exports=s.locals)},386:function(e,a,t){var s=t(336);"string"==typeof s&&(s=[[e.id,s,""]]);t(5)(s,{});s.locals&&(e.exports=s.locals)},496:function(e,a){e.exports='<section transition=fade-in class="row fixed" _v-1a24127a=""><loading v-if=loading _v-1a24127a=""></loading><div class="row full-height enlcosing" v-else="" _v-1a24127a=""><no-messages v-if=!messagesList.length _v-1a24127a=""></no-messages><div class="row full-height" v-else="" _v-1a24127a=""><ul class="collection col s3 full-height scrollable-block" _v-1a24127a=""><li class="collection-item avatar" :class="{\'non-read-background\': isMessageNonRead(item.id)}" v-for="item in messagesList" track-by=$index @click=openMessage(item) _v-1a24127a=""><img v-if="item.applicant.uuid != userUUID" :src=item.applicant.img alt="" class=circle _v-1a24127a=""> <img v-else="" :src=item.company.logo alt="" class=circle _v-1a24127a=""> <span v-if="item.applicant.uuid != userUUID" class=title _v-1a24127a="">{{item.applicant.name}}</span> <span v-else="" class=title _v-1a24127a="">{{item.company.name}}</span><p _v-1a24127a="">{{item.title}}</p><span class=lock-icon v-if=isResponsible(item.responsible.uuid) @click=toggleLockChat(item) v-show=isReady _v-1a24127a=""><i v-if="item.state === \'open\'" class=material-icons _v-1a24127a=""></i> <i v-else="" class="material-icons lock-icon-locked" _v-1a24127a=""></i></span> <a class=open-job-offer :href=item.jobofferURL target=_blank v-show=isReady _v-1a24127a=""><i class=material-icons _v-1a24127a=""></i></a></li></ul><div class="col s9 chat-block full-height" v-show=isReady _v-1a24127a=""><div class=scrollable-block id=messages-block _v-1a24127a=""><div class=clearfix v-for="item in chatData.messages" track-by=$index _v-1a24127a=""><div v-if="item.owner == userUUID" class="fx-row from-right" _v-1a24127a=""><div class="row fx" _v-1a24127a=""><span class="small-font col s12 from-right" v-if="isDifferentOwner(item.owner, $index)" _v-1a24127a="">{{ownerName(item.owner)}}</span><p class="m-none text-right self-chat-text-color chat-text" _v-1a24127a="">{{item.content}}</p><span class="small-font col s12" _v-1a24127a="">{{item.timestamp | time}}</span></div><img :src=getUserImageLink(item.owner) class="circle size-32 fx-end small-margin chat-image-with-name" v-if="isDifferentOwner(item.owner, $index)" _v-1a24127a=""> <img :src=getUserImageLink(item.owner) class="circle size-32 fx-end small-margin" v-else="" _v-1a24127a=""></div><div v-else="" class=fx-row _v-1a24127a=""><img :src=getUserImageLink(item.owner) class="circle size-32 fx small-margin chat-image-with-name" v-if="isDifferentOwner(item.owner, $index)" _v-1a24127a=""> <img :src=getUserImageLink(item.owner) class="circle size-32 fx small-margin" v-else="" _v-1a24127a=""><div class="row fx-end" _v-1a24127a=""><span class="small-font col s12" v-if="isDifferentOwner(item.owner, $index)" _v-1a24127a="">{{ownerName(item.owner)}}</span><p v-if=isApplicant(item.owner) class="m-none chat-text applicant-chat-text-color" _v-1a24127a="">{{item.content}}</p><p v-else="" class="m-none chat-text other-chat-text-color" _v-1a24127a="">{{item.content}}</p><span class="small-font col s12" _v-1a24127a="">{{item.timestamp | time}}</span></div></div></div></div><hr _v-1a24127a=""><form class="col s12 message-input-block" v-on:submit.prevent=sendMessage() _v-1a24127a=""><div class=row flex="" _v-1a24127a=""><input v-model=messageToSend class="col s11" v-bind:disabled="chatData.state === \'locked\'" v-bind:placeholder="chatData.state === \'locked\' ? \'The chat is locked by the responsible :(\' : \'Type your message ...\'" _v-1a24127a=""> <button class="btn message-send-btn col s1" type=button v-on:keyup.enter=sendMessage() :class="{\'disabled\': chatData.state === \'locked\'}" v-on:click=sendMessage() _v-1a24127a=""><i style="color: #FFFFFF" class=material-icons _v-1a24127a=""></i></button></div></form></div></div></div></section>'},502:function(e,a){e.exports='<section class=row _v-3699a8f2=""><div class="col s6 wait-message" _v-3699a8f2=""></div><div class="col s6 wait-message" _v-3699a8f2=""><div class="preloader-wrapper big active" _v-3699a8f2=""><div class="spinner-layer spinner-blue" _v-3699a8f2=""><div class="circle-clipper left" _v-3699a8f2=""><div class=circle _v-3699a8f2=""></div></div><div class=gap-patch _v-3699a8f2=""><div class=circle _v-3699a8f2=""></div></div><div class="circle-clipper right" _v-3699a8f2=""><div class=circle _v-3699a8f2=""></div></div></div></div></div></section>'},524:function(e,a){e.exports='<section class=row _v-efe21bba=""><div class="col s2 no-message" _v-efe21bba="">.</div><div class="col s8 no-message" _v-efe21bba="">no messages dude :( forever alone we stand, united we fall...</div><div class="col s2 no-message" _v-efe21bba="">.</div></section>'},568:function(e,a,t){var s,i;t(364),i=t(502),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},569:function(e,a,t){var s,i;t(386),i=t(524),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)}});